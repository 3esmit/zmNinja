<ion-view view-title="Monitor Event Summary" cache-view="false">

    <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" ng-click="openMenu()"></button>
    </ion-nav-buttons>

    <!-- I'm calling the same controller function but with different parameters when
            you switch between tabs -->

    <!-- All Events view -->
    <ion-tabs class="tabs-icon-top tabs-stable">
        <ion-tab title="All" icon="ion-stats-bars" on-select="generateTCChart(0,'All Events',0)">
            <ion-nav-view>
                <ion-content class="has-header">
                    <canvas tc-chartjs-bar chart-data="data" chart-options="options" ng-click="handleChartClick($event)" chart="chart1">
                    </canvas>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!-- All Events in the last hour -->
        <ion-tab title="Last Hour" icon="ion-stats-bars"
                 on-select="generateTCChart(1,'Events in the last hour',1)">
            <ion-nav-view>
                <ion-content>
                    <div style="overflow:scroll;">
                        <canvas tc-chartjs-bar chart-data="data" chart-options="options"
                                ng-click="handleChartClick($event)" chart="chart2">
                        </canvas>
                    </div>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!-- All Events in last 24 hrs -->
        <ion-tab title="Day" icon="ion-stats-bars"
                 on-select="generateTCChart(2,'Events in the last day',24)">
            <ion-nav-view>
                <ion-content>
                    <div style="overflow:scroll;">
                        <canvas tc-chartjs-bar chart-data="data"
                                chart-options="options" chart="chart3"
                                ng-click="handleChartClick($event)">
                        </canvas>
                    </div>
                </ion-content>
            </ion-nav-view>
        </ion-tab>

        <!-- All Events in last week -->
        <ion-tab title="Week" icon="ion-stats-bars"
                 on-select="generateTCChart(3,'Events in the last week',168)">
            <ion-nav-view>
                <ion-content>
                    <div style="overflow:scroll;">
                        <canvas tc-chartjs-bar chart-data="data"
                                chart-options="options" chart="chart4"
                                ng-click="handleChartClick($event)">
                        </canvas>
                    </div>
                </ion-content>
            </ion-nav-view>
        </ion-tab>
    </ion-tabs>

</ion-view>
